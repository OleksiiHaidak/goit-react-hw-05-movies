"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{881:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(861),s=r(439),a=r(757),c=r.n(a),i=r(791),o=r(87),u=r(689),l=r(243),h=r(686),f=r.n(h),m="Movies_SearchForm__EKSZc",p="Movies_SearchFormButton__yo7B9",_="Movies_SearchFormButtonLabel__EPDCR",d="Movies_SearchFormInput__48VGd",v="Movies_list__hqYjd",x="Movies_listItem__YWcFi",y="Movies_loading__sAADI",S=r(184),j=function(){var e=(0,o.lr)(),t=(0,s.Z)(e,2),r=t[0],a=t[1],h=r.get("query"),j=(0,i.useState)(null),b=(0,s.Z)(j,2),g=b[0],N=b[1],k=(0,i.useState)(!1),w=(0,s.Z)(k,2),M=w[0],q=w[1],F=(0,u.TH)();return(0,i.useEffect)((function(){if(h){var e=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,l.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat("4219f818c3b647ef6b7c71c399226158","&query=").concat(h));case 4:t=e.sent,N(t.data),0===t.data.results.length&&f().Notify.info("Sorry, there are no films matching your search query",{position:"center-center",width:"460px",fontSize:"16px"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f().Notify.failure("Oops, something went wrong",{position:"center-center",fontSize:"16px"});case 12:return e.prev=12,q(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[h]),(0,S.jsxs)("main",{children:[(0,S.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.searchKey.value;""!==t.trim()?a({query:t}):f().Notify.info("Please enter your request",{position:"center-center",fontSize:"16px"})},children:[(0,S.jsx)("button",{type:"submit",className:p,children:(0,S.jsx)("span",{className:_,children:"Search"})}),(0,S.jsx)("input",{className:d,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",name:"searchKey"})]}),M&&(0,S.jsx)("div",{className:y,children:"Loading..."}),(0,S.jsx)("ul",{className:v,children:null!==g&&g.results.map((function(e){return(0,S.jsx)("li",{children:(0,S.jsx)(o.rU,{state:{from:F},to:"/movies/".concat(e.id),className:x,children:(0,S.jsx)("span",{children:e.title})})},e.id)}))})]})}}}]);
//# sourceMappingURL=881.74bc1557.chunk.js.map